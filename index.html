<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CVNet - Community Calendar</title>

<style>
  :root{
    --brand-yellow:#FFD12D;
    --brand-blue:#000066;
    --text:#000;
    --muted:#f9f9f9;
    --border:#ccc;
  }

  html { scroll-behavior: smooth; }
  body {
    font-family: Arial, sans-serif;
    color: var(--text);
    background-color: #ffffff;
    margin: 20px;
    line-height: 1.6;
    font-size: 16px;
  }

  /* ===== Fixed header with brand styling ===== */
  .header-fixed {
    position: fixed;
    top: 0; left: 0; right: 0;
    z-index: 1000;
    background: #fff;
  }
  .site-header {
    margin: 0 20px;
    padding-top: 20px;
  }
  .title-banner{
    background: var(--brand-yellow);
    border-radius: 8px;
    padding: 16px 20px;
    text-align:center;
  }
  .title-banner h2{ margin:0; }
  .title-banner .subtitle{
    margin-top: 6px;
    font-size: 14px;
  }

  .topbar{
    display:flex;
    flex-direction: column;
    align-items:flex-start;
    gap:8px;
    margin:14px 0 20px 0;
  }
  .topbar-row{
    display:flex;
    width:100%;
    justify-content: space-between;
    align-items: center;
    gap:12px;
    flex-wrap: wrap;
  }
  .quick-links{
    display:flex;
    gap:14px;
    flex-wrap: wrap;
  }
  .quick-links a{
    color: var(--brand-blue);
    text-decoration:none;
    font-weight: bold;
  }
  .quick-links a:hover{ text-decoration: underline; }

  .topbar .back-link{ margin:0; }

  .search-wrap{
    margin-left:auto;
    display:flex;
    align-items:center;
    gap:8px;
  }
  .search-wrap .icon{ font-size:18px; line-height:1; }
  #search-input{
    width: 280px;
    max-width: 50vw;
    padding: 6px 8px;
    border:1px solid #ddd;
    border-radius:4px;
  }

  h3 {
    color: var(--brand-blue);
    border-bottom: 2px solid var(--brand-yellow);
    padding-bottom: 5px;
    margin-top: 32px;
  }
  h4 { margin: 18px 0 8px; color: var(--brand-blue); }

  /* ===== Table + brand look ===== */
  table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 32px;
    font-size: 14px;
  }
  th, td {
    border: 1px solid #ddd;
    padding: 10px;
    vertical-align: top;
    text-align: left;
  }
  tr:nth-child(even) { background-color: var(--muted); }
  tr:hover { background-color: #f1f1f1; }
  th {
    background-color: #ffe082; /* brandy header */
    color: #000;
    font-weight: bold;
    text-align: left;
  }
  a { color: #003366; text-decoration: none; }
  a:hover { text-decoration: underline; }

  mark.cvnet-highlight {
    background-color: yellow;
    color: black;
  }

  /* ===== Horizontal scroll wrapper for narrow screens ===== */
  .table-scroll{
    position: relative;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-gutter: stable both-edges;
  }
  .table-scroll > table{
    width: 100%;
    border-collapse: collapse;
  }
  .table-scroll .scroll-hint{
    position: absolute;
    right: 8px; bottom: 6px;
    font-size: 12px;
    line-height: 1;
    background: #fff;
    border: 1px solid #ddd;
    padding: 6px 8px;
    border-radius: 999px;
    box-shadow: 0 1px 3px rgba(0,0,0,.08);
    opacity: .95;
    transition: opacity .25s ease;
    white-space: nowrap;
  }
  .table-scroll.seen .scroll-hint{ opacity: 0; }

  /* ===== Dataframe layout + iOS-safe wrapping ===== */
  .dataframe { table-layout: fixed; min-width: 720px; }
  .dataframe th, .dataframe td { white-space: normal; } /* <-- important to avoid ‚Äújumbled‚Äù text */

  /* Keep link text from stretching rows too tall */
  .dataframe td:nth-child(4) a { display: inline-block; }

  /* Multi-line clamp helper (‚âà2 lines) */
  .clamp-2 {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    overflow: hidden;
    line-height: 1.35;        /* fallback line-height */
    max-height: calc(1.35em * 2);
  }

  /* ===== Responsive tweaks ===== */
  @media (max-width: 900px) {
    #search-input { max-width: 60vw; }
  }
  @media (max-width: 700px) {
    .site-header { margin: 0 12px; padding-top: 12px; }
    .topbar-row { gap: 8px; }
    .quick-links {
      flex-wrap: nowrap;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      gap: 10px;
    }
    .quick-links a { white-space: nowrap; }
    .search-wrap { width: 100%; margin-left: 0; }
    #search-input { width: 100%; max-width: 100%; }

    /* Narrow Website (col 4) and Deadlines (col 5); allow wrapping there */
    .dataframe th:nth-child(4), .dataframe td:nth-child(4) { width: 26%; max-width: 26%; }
    .dataframe th:nth-child(5), .dataframe td:nth-child(5) { width: 34%; max-width: 34%; }
    .dataframe th:nth-child(4), .dataframe td:nth-child(4),
    .dataframe th:nth-child(5), .dataframe td:nth-child(5) {
      white-space: normal;
      word-break: break-word;
      overflow-wrap: anywhere;
    }
  }
</style>
</head>
<body>

<!-- Fixed header container that spans the very top -->
<div class="header-fixed">
  <header class="site-header">
    <div class="title-banner">
      <h2>CVNet Resource List and Community Calendar</h2>
      <div class="subtitle">Last updated: 6 August, 2025</div>
    </div>

    <div class="topbar">
      <div class="topbar-row">
        <nav class="quick-links" aria-label="Quick section links">
          <a href="#conferences">Conferences</a>
          <a href="#courses">Courses</a>
          <a href="#talks">Talks</a>
          <a href="#jobs">Jobs</a>
          <a href="#funding">Funding</a>
        </nav>
        <div class="search-wrap">
          <span class="icon" aria-hidden="true">üîç</span>
          <input id="search-input" type="text" placeholder="Search this page‚Ä¶"/>
        </div>
      </div>
      <p class="back-link">
        <a href="https://info.cvnet.org/">‚Üê Back to main CVNet info page</a>
      </p>
    </div>
  </header>
</div>

<p>
  This page lists upcoming <strong>conferences, courses, talks, jobs</strong>, and <strong>funding opportunities</strong> for the color &amp; vision research community. Send additions or corrections to
  <a href="mailto:davidpeterzell@mac.com">davidpeterzell@mac.com</a> and
  <a href="mailto:mtedesco12@gmail.com">mtedesco12@gmail.com</a>. Additional opportunities can be found in the
  <a href="https://cvnet.org/mailman/listinfo/cvnet">CVNet Archive</a> and the
  <a href="http://visionscience.com/pipermail/visionlist_visionscience.com">VisionList Archive</a>.
</p>

<!-- ====== SECTION: Conferences ====== -->
<h3 id="conferences">Conferences</h3>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th>Name</th>
      <th>Dates</th>
      <th>Location</th>
      <th>Website</th>
      <th>Submission Deadlines</th>
    </tr>
  </thead>
  <tbody>
    <!-- keep your rows exactly as before -->
    <tr>
      <td><b>16th Pangborn Sensory Science Symposium</b></td>
      <td>August 17-21, 2025</td>
      <td>Pennsylvania Convention Center, Philadelphia, PA</td>
      <td><a href="https://www.pangbornsymposium.com/">https://www.pangbornsymposium.com/</a></td>
      <td>CLOSED</td>
    </tr>
    <!-- ... (all the rest of your rows from your last version) ... -->
  </tbody>
</table>

<!-- ====== SECTION: Courses ====== -->
<h3 id="courses">Courses</h3>
<h4>Summer Schools</h4>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th>Name</th><th>Dates</th><th>Location</th><th>Website</th><th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <!-- your rows here (unchanged) -->
  </tbody>
</table>

<h4>Classes</h4>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th>Name</th><th>Dates</th><th>Location</th><th>Website</th><th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <!-- your rows here (unchanged) -->
  </tbody>
</table>

<!-- ====== SECTION: Talks ====== -->
<h3 id="talks">Talks</h3>
<h4>Journal Clubs</h4>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th>Name</th><th>Dates</th><th>Location</th><th>Website</th><th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <!-- your rows here (unchanged) -->
  </tbody>
</table>

<h4>Seminar Series and Online Talks</h4>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th>Name</th><th>Dates</th><th>Location</th><th>Website</th><th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <!-- your rows here (unchanged) -->
  </tbody>
</table>

<!-- ====== SECTION: Jobs ====== -->
<h3 id="jobs">Jobs</h3>
<h4>Jobs and Student Positions</h4>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th>Name</th><th>Dates</th><th>Location</th><th>Website</th><th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <!-- your rows here (unchanged) -->
  </tbody>
</table>

<h4>Postdoctoral Career Opportunities</h4>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th>Name</th><th>Dates</th><th>Location</th><th>Website</th><th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <!-- your rows here (unchanged) -->
  </tbody>
</table>

<!-- ====== SECTION: Funding ====== -->
<h3 id="funding">Funding</h3>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th>Name</th><th>Dates</th><th>Location</th><th>Website</th><th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <!-- your rows here (unchanged) -->
  </tbody>
</table>

<p style="text-align: center;">
  CVNet is supported by the
  <a href="https://www.ski.org/" target="_blank" rel="noopener noreferrer">
    Smith-Kettlewell Eye Research Institute
  </a>
</p>

<script>
  /* ===== Search highlight ===== */
  function walk(node, regex) {
    if (node.nodeType === 3) {
      const match = node.nodeValue.match(regex);
      if (match) {
        const span = document.createElement('span');
        const html = node.nodeValue.replace(regex, '<mark class="cvnet-highlight">$1</mark>');
        span.innerHTML = html;
        node.parentNode.replaceChild(span, node);
      }
    } else if (node.nodeType === 1 && node.childNodes && !['SCRIPT','STYLE','MARK'].includes(node.tagName)) {
      for (let i = 0; i < node.childNodes.length; i++) walk(node.childNodes[i], regex);
    }
  }
  function removeHighlights() {
    document.querySelectorAll('mark.cvnet-highlight').forEach(mark => {
      const parent = mark.parentNode;
      parent.replaceChild(document.createTextNode(mark.textContent), mark);
      parent.normalize();
    });
  }

  /* ===== Push content below fixed header & anchor offset ===== */
  function setHeaderOffset(){
    const fixed = document.querySelector('.header-fixed');
    if(!fixed) return;
    const h = fixed.offsetHeight || 0;
    document.body.style.paddingTop = (h + 10) + 'px';
    document.querySelectorAll('h3[id], h4[id]').forEach(el=>{
      el.style.scrollMarginTop = (h + 10) + 'px';
    });
  }

  /* ===== Wrap tables in scroll container (mobile) ===== */
  function setupScrollableTables(){
    const tables = document.querySelectorAll('table');
    tables.forEach(t => {
      if (t.parentElement && t.parentElement.classList.contains('table-scroll')) return;
      const wrap = document.createElement('div');
      wrap.className = 'table-scroll';
      t.parentNode.insertBefore(wrap, t);
      wrap.appendChild(t);

      const hint = document.createElement('div');
      hint.className = 'scroll-hint';
      hint.textContent = 'Swipe to see more ‚Üí';
      wrap.appendChild(hint);

      const markSeen = () => wrap.classList.add('seen');
      wrap.addEventListener('scroll', markSeen, { passive: true });
      setTimeout(markSeen, 4000);
    });
  }

  /* ===== Clamp long text in columns 4‚Äì5 on mobile ===== */
  function clampLongCells() {
    document.querySelectorAll('.dataframe').forEach(tbl => {
      tbl.querySelectorAll('tbody tr').forEach(tr => {
        [4,5].forEach(idx => {
          const td = tr.children[idx - 1];
          if (!td || td.querySelector('.clamp-2')) return;
          const fullText = td.textContent.trim();
          if (!td.title) td.title = fullText;
          if (td.firstElementChild) {
            td.firstElementChild.classList.add('clamp-2');
          } else {
            const span = document.createElement('span');
            span.className = 'clamp-2';
            span.textContent = fullText;
            td.textContent = '';
            td.appendChild(span);
          }
        });
      });
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    /* search */
    const input = document.getElementById('search-input');
    if (input) {
      input.addEventListener('input', function() {
        removeHighlights();
        const filter = input.value.trim();
        if (filter.length === 0) return;
        const regex = new RegExp('(' + filter.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&') + ')', 'gi');
        document.querySelectorAll('body *:not(script):not(style)').forEach(el => walk(el, regex));
      });
    }

    setHeaderOffset();

    /* Enable scroll affordances + clamp on mobile only */
    if (window.matchMedia('(max-width: 700px)').matches) {
      setupScrollableTables();
      clampLongCells();
    }
  });

  window.addEventListener('resize', setHeaderOffset);
</script>

</body>
</html>
